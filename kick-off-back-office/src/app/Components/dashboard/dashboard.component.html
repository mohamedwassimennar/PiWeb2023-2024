<body class="g-sidenav-show   bg-gray-100">
    <div class="position-absolute w-100 min-height-300 top-0" [style.backgroundImage]="'url(' + backgroundImageSrc + ')'" style="background-position-y: 0%;">
        <span class="mask bg-primary opacity-6"></span>
    </div>
    <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
        <div class="sidenav-header">
            <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
            <a class="navbar-brand m-0">
                <img src="assets/img/KICKOFF4.png" class="navbar-brand-img" alt="main_logo" style="max-height: 100px; width: auto; height: auto;">
            </a>
        </div>
        <hr class="horizontal dark mt-0">

        <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active " [routerLink]="['/dash']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-tv-2 text-primary text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Data Visualization </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" [routerLink]="['/inscription']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                            <!-- Updated icon class -->
                        </div>
                        <span class="nav-link-text ms-1">Inscription</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" (click)="toggleUserSubMenu()">
                        <div
                            class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Data Management</span>
                    </a>

                    <ul *ngIf="isUserSubMenuOpen" class="sub-menu">
                        <p>
                            <a class="nav-link" [routerLink]="['/player']">
                                <i class="fa-sharp fa-light fa-person"></i>
                                <span class="nav-link-text ms-1 d-inline">Player data</span>
                            </a>
                        </p>
                    
                        <p>
                            <a class="nav-link" [routerLink]="['/coach']">
                                <i class="ni ni-settings-gear-65"></i>
                                <span class="nav-link-text d-inline">Coach data</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/doctor']">
                                <i class="ni ni-ambulance"></i>
                                <span class="nav-link-text d-inline">Doctor data</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/fitnessCoach']">
                                <i class="ni ni-user-run"></i>
                                <span class="nav-link-text ms-1 d-inline">Fitness Coach data</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/technicalManager']">
                                <i class="ni ni-settings"></i>
                                <span class="nav-link-text ms-1 d-inline">Technical Manager data</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/assistantCoach']">
                                <i class="ni ni-single-02"></i>
                                <span class="nav-link-text ms-1 d-inline">Assistant Coach data</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/physiotherapist']">
                                <i class="ni ni-user-run"></i>
                                <span class="nav-link-text ms-1 d-inline">Physiotherapist data</span>
                            </a>
                        </p>
                    </ul>

                </li>
                <li class="nav-item">
                    <a class="nav-link" [routerLink]="['/archived-users']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                            <!-- Updated icon class -->
                        </div>
                        <span class="nav-link-text ms-1">Archived users</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" (click)="togglePerformanceSubMenu()">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-chart-bar-32 text-success text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Performance</span>
                    </a>

                    <ul *ngIf="isPerformanceSubMenuOpen" class="sub-menu">
                        <!-- Contenu de votre sous-liste ici -->
                        <p>
                            <a class="nav-link" [routerLink]="['/perfermance']">
                                <i class="ni ni-chart-bar-32 text-success text-sm opacity-10"></i>
                                <span class="nav-link-text ms-1 d-inline">Performance Player</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/perfermancesummary']">
                                <i class="ni ni-money-coins"></i>
                                <span class="nav-link-text d-inline">Performance Summary</span>
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/matchAnalysis']">
                                <i class="ni ni-chart-pie-35"></i>
                                <span class="nav-link-text d-inline">Match Analysis</span>
                            </a>
                        </p>
                    </ul>

                </li>

                <li class="nav-item">
                    <a class="nav-link " [routerLink]="['/myleague']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-calendar-grid-58 text-danger text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Matches</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " [routerLink]="['/scout']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-atom text-secondary text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Scouting</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " [routerLink]="['/health']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-ambulance text-success text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Health Care</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" (click)="toggleSubMenu()">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-credit-card text-primary text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Training</span>
                    </a>

                    <ul *ngIf="isSubMenuOpen" class="sub-menu">
                        <!-- Contenu de votre sous-liste ici -->
                        <p>
                            <a class="nav-link" [routerLink]="['/training']">
                                <i class="fas fa-calendar-alt" style="color: blue;"></i> Training Sessions
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/internships']">
                                <i class="fas fa-calendar-check" style="color: blue;"></i> Schedule internships
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/appointment']">
                                <i class="fas fa-calendar-plus" style="color:  blue;"></i> Appointment
                            </a>
                        </p>
                        <p>
                            <a class="nav-link" [routerLink]="['/meeting']">
                                <i class="fas fa-calendar" style="color:  blue;"></i> Meeting
                            </a>
                        </p>



                    </ul>
                </li>

                <li class="nav-item ">
                    <a class="nav-link " [routerLink]="[ '/Schedule'] ">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center ">
                            <i class="ni ni-calendar-grid-58 text-danger text-sm opacity-10 "></i>
                        </div>
                        <span class="nav-link-text ms-1 ">Schedule</span>
                    </a>
                </li>

                <li class="nav-item mt-3">
                    <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account pages</h6>
                </li>
                <li class="nav-item">
                    <a class="nav-link " [routerLink]="['/profile']">
                        <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                            <i class="ni ni-single-02 text-dark text-sm opacity-10"></i>
                        </div>
                        <span class="nav-link-text ms-1">Profile</span>
                    </a>
                </li>




            </ul>
        </div>
        <br><br>
        <div class="sidenav-footer mx-3 ">
            <div class="card card-plain shadow-none" id="sidenavCard">
                <img class="w-50 mx-auto" src="../../../assets/images/logo.png" alt="sidebar_illustration">
                <div class="card-body text-center p-3 w-100 pt-0">

                </div>
            </div>

        </div>
    </aside>
    <main class="main-content position-relative border-radius-lg ">
        <!-- Navbar -->
        <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false">
            <div class="container-fluid py-1 px-3">
                
                <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
                    <div class="ms-md-auto pe-md-3 d-flex align-items-center">
                        <div class="input-group">
                            <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
                            <input type="text" class="form-control" placeholder="Type here...">
                        </div>
                    </div>
                    <ul class="navbar-nav  justify-content-end">
                        <li class="nav-item d-flex align-items-center">
                            <a (click)="logout() " class="nav-link text-white font-weight-bold px-0">
                                <i class="fa fa-user me-sm-1"></i>
                                <span class="d-sm-inline d-none">log out</span>
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
        <!-- End Navbar -->
        <div class="container-fluid py-4">
            <div class="row">
                <app-user-chart></app-user-chart>
                <div class="container mt-4">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    Match Status Chart
                                </div>
                                <div class="card-body">
                                    <canvas id="matchStatusChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    Fixture Type Chart
                                </div>
                                <div class="card-body">
                                    <canvas id="fixtureTypeChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <!-- Health Statistics Card -->
                    <div class="card health-card mb-4">
                        <div class="card-body health-info">
                            <h2>Total Injuries: {{ totalInjuries }}</h2>
                            <h2>Average Recovery Time: {{ averageRecoveryTime }} days</h2>
                            <h2>Injury Types:</h2>
                            <canvas #injuryChart class="chart"></canvas>
                        </div>
                    </div>
                    <!-- New Statistic Div -->
                    <div class="card recovery-card">
                        <div class="card-body health-info">
                            <h2>Total Recovery Plans: {{ recoveryPlans.length }}</h2>
                            <h2>Average Recovery Duration: {{ averageRecoveryDuration | number: '1.1-1' }} days</h2>
                        </div>
                    </div>

                    <!-- Prevention Statistics Card -->
                    <div class="card prevention-card">
                        <div class="card-body health-info">
                            <h2>Total Preventions: {{ preventions.length }}</h2>
                            <!-- Chart for Prevention Recommendations -->
                            <h2>Prevention Recommendations:</h2>
                            <canvas #preventionChart class="chart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="card health-card mb-4">
                        <div class="card-body">
                            <div class="container">
                                <canvas id="meetTypeChart"></canvas>
                            </div>
                            <div class="card-body">
                                <h3 class="card-subtitle mb-2" style="padding: 0; margin: 0;">
                                    <span>Total  meetings : {{ totalMeetings }}</span>
                                </h3>
                            </div>
                        </div>

                    </div>

                </div>




            </div>

        </div>


        <app-footer></app-footer>
    </main>


</body>