<body class="g-sidenav-show   bg-gray-100">
  <div class="position-absolute w-100 min-height-300 top-0" [style.backgroundImage]="'url(' + backgroundImageSrc + ')'" style="background-position-y: 0%;">
      <span class="mask bg-primary opacity-6"></span>
  </div>
  <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
      <div class="sidenav-header">
          <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
          <a class="navbar-brand m-0">
              <img src="assets/img/KICKOFF4.png" class="navbar-brand-img" alt="main_logo" style="max-height: 100px; width: auto; height: auto;">
          </a>
      </div>
      <hr class="horizontal dark mt-0">

      <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
          <ul class="navbar-nav">
              <li class="nav-item">
                  <a class="nav-link active " [routerLink]="['/dash']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-tv-2 text-primary text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Data Visualization </span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/inscription']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                          <!-- Updated icon class -->
                      </div>
                      <span class="nav-link-text ms-1">Inscription</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/role']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                          <!-- Updated icon class -->
                      </div>
                      <span class="nav-link-text ms-1">Data Management</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/archived-users']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-single-copy-04 text-warning text-sm opacity-10"></i>
                          <!-- Updated icon class -->
                      </div>
                      <span class="nav-link-text ms-1">Archived users</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" (click)="togglePerformanceSubMenu()">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-chart-bar-32 text-success text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Performance</span>
                  </a>

                  <ul *ngIf="isPerformanceSubMenuOpen" class="sub-menu">
                      <!-- Contenu de votre sous-liste ici -->
                      <p>
                          <a class="nav-link" [routerLink]="['/perfermance']">
                              <i class="ni ni-chart-bar-32 text-success text-sm opacity-10"></i>
                              <span class="nav-link-text ms-1 d-inline">Performance Player</span>
                          </a>
                      </p>
                      <p>
                          <a class="nav-link" [routerLink]="['/perfermancesummary']">
                              <i class="ni ni-money-coins"></i>
                              <span class="nav-link-text d-inline">Performance Summary</span>
                          </a>
                      </p>
                      <p>
                          <a class="nav-link" [routerLink]="['/matchAnalysis']">
                              <i class="ni ni-chart-pie-35"></i>
                              <span class="nav-link-text d-inline">Match Analysis</span>
                          </a>
                      </p>
                  </ul>

              </li>

              <li class="nav-item">
                  <a class="nav-link " [routerLink]="['/myleague']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-calendar-grid-58 text-danger text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Matches</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link " [routerLink]="['/scout']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-atom text-secondary text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Scouting</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link " [routerLink]="['/health']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-ambulance text-success text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Health Care</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" (click)="toggleSubMenu()">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-credit-card text-primary text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Training</span>
                  </a>

                  <ul *ngIf="isSubMenuOpen" class="sub-menu">
                      <!-- Contenu de votre sous-liste ici -->
                      <p>
                          <a class="nav-link" [routerLink]="['/training']">
                              <i class="fas fa-calendar-alt" style="color: blue;"></i> Training Sessions
                          </a>
                      </p>
                      <p>
                          <a class="nav-link" [routerLink]="['/internships']">
                              <i class="fas fa-calendar-check" style="color: blue;"></i> Schedule internships
                          </a>
                      </p>
                      <p>
                          <a class="nav-link" [routerLink]="['/appointment']">
                              <i class="fas fa-calendar-plus" style="color:  blue;"></i> Appointment
                          </a>
                      </p>
                      <p>
                          <a class="nav-link" [routerLink]="['/meeting']">
                              <i class="fas fa-calendar" style="color:  blue;"></i> Meeting
                          </a>
                      </p>



                  </ul>
              </li>

              <li class="nav-item ">
                  <a class="nav-link " [routerLink]="[ '/Schedule'] ">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center ">
                          <i class="ni ni-calendar-grid-58 text-danger text-sm opacity-10 "></i>
                      </div>
                      <span class="nav-link-text ms-1 ">Schedule</span>
                  </a>
              </li>

              <li class="nav-item mt-3">
                  <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account pages</h6>
              </li>
              <li class="nav-item">
                  <a class="nav-link " [routerLink]="['/profile']">
                      <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
                          <i class="ni ni-single-02 text-dark text-sm opacity-10"></i>
                      </div>
                      <span class="nav-link-text ms-1">Profile</span>
                  </a>
              </li>




          </ul>
      </div>
      <br><br>
      <div class="sidenav-footer mx-3 ">
          <div class="card card-plain shadow-none" id="sidenavCard">
              <img class="w-50 mx-auto" src="../../../assets/images/logo.png" alt="sidebar_illustration">
              <div class="card-body text-center p-3 w-100 pt-0">

              </div>
          </div>

      </div>
  </aside>

  <main class="main-content position-relative border-radius-lg ">
    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur"
      data-scroll="false">
      <div class="container-fluid py-1 px-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
            <li class="breadcrumb-item text-sm"><a class="opacity-5 text-white" href="javascript:;">Pages</a></li>
            <li class="breadcrumb-item text-sm text-white active" aria-current="page">List</li>
          </ol>
          <h6 class="font-weight-bolder text-white mb-0">List</h6>
        </nav>
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
          <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            <div class="input-group">
              <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
              <input type="text" class="form-control" placeholder="Type here...">
            </div>
          </div>
          <ul class="navbar-nav  justify-content-end">
            <li class="nav-item d-flex align-items-center">
              <a (click)="logout() " class="nav-link text-white font-weight-bold px-0">
                <i class="fa fa-user me-sm-1"></i>
                <span class="d-sm-inline d-none">log out</span>
              </a>
            </li>
          </ul>
        </div>

      </div>
    </nav>
    <div class="container-fluid ">
      <div class="row">
        <div class="col-12">
          <div class="container mt-3" id="regForm"
            *ngFor="let role of ['coach', 'player', 'technicalManager', 'doctor','physiotherapist','assistantCoach','fitnessCoach']">
            <div class="card-header pb-0">
              <p>{{ customTableNames[role] | titlecase }}</p>
            </div>
            <div class="card-body px-0 pt-0 pb-3">
              <div class="table-responsive">
                <table class="table">
                  <thead class="table-secondary">
                    <tr>
                      <th scope="col"
                        class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">#</th>
                      <th class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">
                        Profile image</th>
                      <th class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">Name
                      </th>
                      <th class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">Email
                      </th>
                      <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">Age
                      </th>
                      <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                        Telephone</th>
                      <!-- Role-specific attributes headers -->
                      <ng-container *ngIf="role === 'coach'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Experience Level
                        </th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Assigned Team
                        </th>
                        <th class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Training
                          Schedule</th>
                      </ng-container>
                      <ng-container *ngIf="role === 'player'">
                        <th class="text-uppercase  text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Position</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">Team
                          Affiliation
                        </th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Foot </th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Height </th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Weight </th>
                      </ng-container>
                      <ng-container *ngIf="role === 'technicalManager'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Technical Expertise</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          System Maintenance Duties</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Integration Responsibilities</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Technical Support Contact</th>

                      </ng-container>
                      <ng-container *ngIf="role === 'doctor'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Medical Qualifications</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Specializations</th>

                      </ng-container>
                      <ng-container *ngIf="role === 'physiotherapist'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Medical Qualifications</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Expertise Areas</th>

                      </ng-container>
                      <ng-container *ngIf="role === 'assistantCoach'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Coaching Experience</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Specialized Area</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Assigned Team</th>

                      </ng-container>
                      <ng-container *ngIf="role === 'fitnessCoach'">
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Fitness Training Experience</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Specialized Area</th>
                        <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                          Assigned Team</th>
                      </ng-container>
                      <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                        Confirmed Email </th>
                      <th class="text-uppercase text-center text-secondary text-xxs font-weight-bolder opacity-7">
                        Actions </th>

                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngIf="usersByRole[role] && usersByRole[role].length > 0 else noData">
                      <tr *ngFor="let user of usersByRole[role]; let i = index" [ngClass]="{ 'archived-row': user.archived }">
                        <th scope="row" class="opacity-7">{{ i + 1 }}</th>
                        <div style="display: flex; justify-content: center; align-items: center;">
                          <img *ngIf="user.profileImage" [src]="user.profileImage" alt="Profile Image" width="50" height="50">
                        </div>
                        
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          {{ user.firstName }} {{
                          user.lastName }}
                        </td>
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          {{ user.email }}
                        </td>
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          {{ user.age }}</td>
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          {{ user.contact }}</td>
                        <!-- Role-specific attributes data -->
                        <ng-container *ngIf="role === 'coach'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder ">
                            {{ user.experienceLevel }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.assignedTeam }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.trainingSchedule }}</td>
                        </ng-container>
                        <ng-container *ngIf="role === 'player'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.position }}</td>

                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.teamAffiliation }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.foot }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.height }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.weight }}</td>
                        </ng-container>
                        <ng-container *ngIf="role === 'technicalManager'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.technicalExpertise }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.systemMaintenanceDuties }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.integrationResponsibilities }}</td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.technicalSupportContact }}</td>
                        </ng-container>
                        <ng-container *ngIf="role === 'doctor'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.medicalQualifications }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.specializations }}
                          </td>
                        </ng-container>
                        <ng-container *ngIf="role === 'physiotherapist'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.medicalQualifications }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.expertiseAreas }}
                          </td>
                        </ng-container>
                        <ng-container *ngIf="role === 'assistantCoach'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.coachingExperience }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.specializedArea }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.assignedTeam }}
                          </td>
                        </ng-container>
                        <ng-container *ngIf="role === 'fitnessCoach'">
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.fitnessTrainingExperience }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.specializedArea }}
                          </td>
                          <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                            {{ user.assignedTeam }}
                          </td>
                        </ng-container>
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          <span *ngIf="user.confirmedEmail === 'true'"
                            class="badge badge-sm bg-gradient-success">True</span>
                          <span *ngIf="user.confirmedEmail === 'false'"
                            class="badge badge-sm bg-gradient-danger">False</span>
                          <span *ngIf="user.confirmedEmail !== 'true' && user.confirmedEmail !== 'false'">{{
                            user.confirmedEmail }}</span>
                        </td>
                       
                        <td class="align-middle text-center text-xs text-secondary font-weight-bolder">
                          <button class="btn btn-sm bg-gradient-danger" (click)="archiveUser(user)" [disabled]="user.archived">Archive</button>
                        </td>
                      </tr>

                    </ng-container>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <ng-template #noData>
          <div class="row justify-content-center">
            <div class="col-auto">
              <p class="text-xs text-center text-secondary mb-0">No data available</p>
            </div>
          </div>
        </ng-template>
      </div>
      <app-footer></app-footer>
    </div>
  </main>